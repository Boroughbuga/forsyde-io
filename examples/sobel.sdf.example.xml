<?xml version="1.0" encoding="utf-8"?>
<forsyde>
  <system>
    <!-- Function/Runnables/atom/primordial atoms definition -->
    <Function id="/getPxFunc">
      <output key="px" value="Integer" />
      <output key="py" value="Integer" />
    </Function>
    <Function id="/gxFunc">
      <input key="x" value="Integer" />
      <output key="Gx" value="Integer" />
    </Function>
    <Function id="/gyFunc">
      <output key="y" value="Integer" />
      <output key="Gy" value="Integer" />
    </Function>
    <Function id="/absFunc">
      <input key="x" value="Integer" />
      <input key="y" value="Integer" />
    </Function>
    <!-- Constructors and their built processes -->
    <Constructor id="/sobel/getPxSDF/cons" name="actorSDF">
      <argument key="/getPxFunc/px/production" value="6"/>
      <argument key="/getPxFunc/py/production" value="6"/>
    </Constructor>
    <Process id="/sobel/getPxSDF"/>
    <Constructor id="/sobel/gxSDF/cons" name="actorSDF">
      <argument key="/gxFunc/x/consumption" value="6"/>
      <argument key="/gxFunc/Gx/production" value="1"/>
    </Constructor>
    <Process id="/sobel/gxSDF"/>
    <Constructor id="/sobel/gySDF/cons" name="actorSDF">
      <argument key="/gyFunc/y/consumption" value="6"/>
      <argument key="/gyFunc/Gy/production" value="1"/>
    </Constructor>
    <Process id="/sobel/gySDF"/>
    <Constructor id="/sobel/absSDF/cons" name="actorSDF">
      <argument key="/absFunc/x/consumption" value="1"/>
      <argument key="/absFunc/y/consumption" value="0"/>
    </Constructor>
    <Process id="/sobel/absSDF"/>
    <!-- The composite sobel process that englobates the other processes -->
    <Process id="/sobel"/>
    <!-- Signals definitions -->
    <Signal id="/sobel/px" dataType="Integer"/>
    <Signal id="/sobel/py" dataType="Integer" />
    <Signal id="/sobel/Gx" dataType="Integer"/>
    <Signal id="/sobel/Gy" dataType="Integer"/>
    <!-- Conections between the signals and the processes -->
    <Edge id="/sobel/getPxSDF/px" outnode="/sobel/getPxSDF" innode="/sobel/px" />
    <Edge id="/sobel/getPySDF/py" outnode="/sobel/getPySDF" innode="/sobel/py" />
    <Edge id="/sobel/gxSDF/px" outnode="/sobel/px" innode="/sobel/gxSDF" />
    <Edge id="/sobel/gySDF/py" outnode="/sobel/py" innode="/sobel/gySDF" />
    <Edge id="/sobel/gxSDF/Gx" outnode="/sobel/gxSDF" innode="/sobel/Gx" />
    <Edge id="/sobel/gySDF/Gy" outnode="/sobel/gySDF" innode="/sobel/Gy" />
    <Edge id="/sobel/absSDF/x" outnode="/sobel/Gx" innode="/sobel/absSDF" />
    <Edge id="/sobel/absSDF/y" outnode="/sobel/Gy" innode="/sobel/absSDF" />
    <!-- Conections between the processes and their constructors -->
    <Edge id="/sobel/getPxSDF/constructor" outnode="/sobel/getPxSDF" innode="/sobel/getPxSDF/cons" />
    <Edge id="/sobel/gxSDF/constructor" outnode="/sobel/gxSDF" innode="/sobel/gxSDF/cons" />
    <Edge id="/sobel/gxSDF/constructor" outnode="/sobel/gySDF" innode="/sobel/gySDF/cons" />
    <Edge id="/sobel/absSDF/constructor" outnode="/sobel/absSDF" innode="/sobel/absSDF/cons" />
    <!-- Conections between the constructors and their arguments -->
    <Edge id="/sobel/getPxSDF/constructor/actee" outnode="/sobel/getPxSDF/cons" innode="/getPxFunc" />
    <Edge id="/sobel/gxSDF/constructor/actee" outnode="/sobel/gxSDF/cons" innode="/gxFunc" />
    <Edge id="/sobel/gxSDF/constructor/actee" outnode="/sobel/gySDF/cons" innode="/gyFunc" />
    <Edge id="/sobel/absSDF/constructor/actee" outnode="/sobel/absSDF/cons" innode="/absFunc" />
    <!-- Conections between the processes and their 'composite' parents -->
    <Edge id="/sobel/getPxSDF/parent" outnode="/sobel/getPxSDF" innode="/sobel" />
    <Edge id="/sobel/gxSDF/parent" outnode="/sobel/gxSDF" innode="/sobel" />
    <Edge id="/sobel/gySDF/parent" outnode="/sobel/gySDF" innode="/sobel" />
    <Edge id="/sobel/absSDF/parent" outnode="/sobel/absSDF" innode="/sobel" />
  </system>
  <platform>
    <Execution id="/Mesh" nature="composite" kind="composite"/>
    <Execution id="/Mesh/CPU0" nature="unmanaged" kind="CPU" />
    <Execution id="/Mesh/CPU1" nature="unmanaged" kind="CPU" />
    <Execution id="/Mesh/CPU2" nature="unmanaged" kind="CPU" />
    <Execution id="/Mesh/CPU3" nature="unmanaged" kind="CPU" />
    <Communication id="/Mesh/NoC" nature="slots" kind="TDN" />
  </platform>
  <extra>
    <Goal id="/sobel/goal/min" nature="min" process="/sobel" target="throughput" />
  </extra>
</forsyde>
